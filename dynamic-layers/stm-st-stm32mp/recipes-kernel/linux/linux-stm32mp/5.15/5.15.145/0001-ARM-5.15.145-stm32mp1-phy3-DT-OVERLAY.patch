From aedafcae7729d71916f981c0518ba0769fc518df Mon Sep 17 00:00:00 2001
From: Christophe Parant <c.parant@phytec.fr>
Date: Mon, 16 Sep 2024 14:49:27 +0200
Subject: [PATCH 1/8] ARM 5.15.145 stm32mp1 phy3 DT OVERLAY

---
 .../phyboard-stm32mp1-dsi-lcd-mb1407.dts      |  98 ++++++++
 ...oard-stm32mp1-dsi-rpi-official-display.dts |  79 +++++++
 .../phyboard-stm32mp1-motor-control-m4.dts    | 187 ++++++++++++++++
 .../phyboard-stm32mp1-motor-control.dts       | 211 ++++++++++++++++++
 ...rd-stm32mp1-pcm939-phycam-vm016-10bits.dts |  60 +++++
 ...ard-stm32mp1-pcm939-phycam-vm016-8bits.dts |  60 +++++
 ...rd-stm32mp1-pcm939l-phycam-vm016-8bits.dts |  60 +++++
 .../phyboard-stm32mp1-peb-av01-hdmi.dts       |  74 ++++++
 .../phyboard-stm32mp1-peb-av02-lcd.dts        | 113 ++++++++++
 ...-stm32mp1-peb-wlbt-05-bluetooth-usart1.dts |  32 +++
 ...-stm32mp1-peb-wlbt-05-bluetooth-usart3.dts |  42 ++++
 .../phyboard-stm32mp1-peb-wlbt-05-wlan.dts    |  60 +++++
 .../phyboard-stm32mp1-pi-hat-extension.dts    |  38 ++++
 .../phyboard-stm32mp1-pi-hat-redbear.dts      |  87 ++++++++
 .../dts/overlays/phyboard-stm32mp1-rs485.dts  |  21 ++
 .../phyboard-stm32mp1-uno-r3-extension.dts    |  73 ++++++
 ...32mp135x-phyboard-segin-peb-av-01-hdmi.dts |  73 ++++++
 ...phyboard-segin-peb-av-02-lcd-resistive.dts |  99 ++++++++
 ...m32mp135x-phyboard-segin-peb-av-02-lcd.dts | 107 +++++++++
 ...tm32mp135x-phyboard-segin-phycam-vm016.dts |  55 +++++
 ...mp13xx-phyboard-segin-peb-eval-01-jtag.dts |  16 ++
 ...hyboard-segin-peb-eval-01-leds-buttons.dts |  61 +++++
 22 files changed, 1706 insertions(+)
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-lcd-mb1407.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-rpi-official-display.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control-m4.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-10bits.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-8bits.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939l-phycam-vm016-8bits.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av01-hdmi.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av02-lcd.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart1.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart3.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-wlan.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-extension.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-redbear.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-rs485.dts
 create mode 100644 arch/arm/boot/dts/overlays/phyboard-stm32mp1-uno-r3-extension.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-01-hdmi.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd-resistive.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-phycam-vm016.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-jtag.dts
 create mode 100644 arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-leds-buttons.dts

diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-lcd-mb1407.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-lcd-mb1407.dts
new file mode 100644
index 000000000000..e532adc6f63d
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-lcd-mb1407.dts
@@ -0,0 +1,98 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for ST MB1407 4" TFT 480x800 pixels DSI display
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	touchscreen@2a {
+		compatible = "focaltech,ft6236";
+		reg = <0x2a>;
+		interrupts = <8 2>;
+		interrupt-parent = <&gpioi>;
+		interrupt-controller;
+		touchscreen-size-x = <480>;
+		touchscreen-size-y = <800>;
+		panel = <&dsi_panel>;
+		status = "okay";
+	};
+
+	touchscreen@38 {
+		compatible = "focaltech,ft6336";
+		reg = <0x38>;
+		interrupts = <8 2>;
+		interrupt-parent = <&gpioi>;
+		interrupt-controller;
+		touchscreen-size-x = <480>;
+		touchscreen-size-y = <800>;
+		panel = <&dsi_panel>;
+		status = "okay";
+	};
+};
+
+&ltdc {
+	status = "okay";
+
+	port {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		ltdc_ep0_out: endpoint@0 {
+			reg = <0>;
+			remote-endpoint = <&dsi_in>;
+		};
+	};
+};
+
+&dsi {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	ports {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		port@0 {
+			reg = <0>;
+			dsi_in: endpoint {
+				remote-endpoint = <&ltdc_ep0_out>;
+			};
+		};
+
+		port@1 {
+			reg = <1>;
+			dsi_out: endpoint {
+				remote-endpoint = <&panel_in>;
+			};
+		};
+	};
+
+	dsi_panel:panel@0 {
+		compatible = "orisetech,otm8009a";
+		reg = <0>;
+		reset-gpios = <&gpiod 9 GPIO_ACTIVE_LOW>;
+		power-supply = <&v3v3>;
+		status = "okay";
+
+		port {
+			panel_in: endpoint {
+				remote-endpoint = <&dsi_out>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-rpi-official-display.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-rpi-official-display.dts
new file mode 100644
index 000000000000..c9d40a03140f
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-dsi-rpi-official-display.dts
@@ -0,0 +1,79 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for Official Raspberry Pi Touch 7" Display
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	touchscreen@38 {
+		compatible = "sitronix,st1633";
+		reg = <0x38>;
+		interrupts = <2 2>;
+		interrupt-parent = <&gpiof>;
+		interrupt-controller;
+		status = "okay";
+	};
+
+	lcd@45 {
+		compatible = "raspberrypi,7inch-touchscreen-panel";
+		reg = <0x45>;
+		status = "okay";
+
+		port {
+			panel_in: endpoint {
+				remote-endpoint = <&dsi_out>;
+			};
+		};
+	};
+};
+
+&ltdc {
+	status = "okay";
+
+	port {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		ltdc_ep0_out: endpoint@0 {
+			reg = <0>;
+			remote-endpoint = <&dsi_in>;
+		};
+	};
+};
+
+&dsi {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	ports {
+		#address-cells = <1>;
+		#size-cells = <0>;
+
+		port@0 {
+			reg = <0>;
+			dsi_in: endpoint {
+				remote-endpoint = <&ltdc_ep0_out>;
+			};
+		};
+
+		port@1 {
+			reg = <1>;
+			dsi_out: endpoint {
+				remote-endpoint = <&panel_in>;
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control-m4.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control-m4.dts
new file mode 100644
index 000000000000..f22ebfca0aa7
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control-m4.dts
@@ -0,0 +1,187 @@
+/* SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause) */
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for ST motor control connector - Cortex M4 example
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&usart3{
+	status = "disabled";
+};
+
+&adc {
+	status = "disabled";
+};
+
+&timers8 {
+	status = "disabled";
+};
+
+&timers3 {
+	status = "disabled";
+};
+
+
+&dma2 {
+	status = "disabled";
+};
+
+&dmamux1 {
+	dma-masters = <&dma1>;
+	dma-channels = <8>;
+};
+
+&m4_rproc{
+	m4_system_resources{
+		status = "okay";
+
+		button {
+			compatible = "rproc-srm-dev";
+			interrupt-parent = <&gpioa>;
+			interrupts = <14 2>;
+			interrupt-names = "irq";
+			status = "okay";
+		};
+
+		m4_led: m4_led {
+			compatible = "rproc-srm-dev";
+			pinctrl-names = "rproc_default", "rproc_sleep";
+			pinctrl-0 = <&leds_red_pins>;
+			pinctrl-1 = <&leds_red_sleep_pins>;
+			status = "okay";
+		};
+	};
+};
+
+
+&m4_dma2 {
+	status = "okay";
+};
+
+
+&vrefbuf {
+	status = "okay";
+};
+
+&m4_adc{
+	vdd-supply = <&vdd>;
+	vref-supply = <&vrefbuf>;
+
+	pinctrl-names = "rproc_default", "rproc_sleep";
+	pinctrl-0 = <&adc_pins>;
+	pinctrl-1 = <&adc_sleep_pins>;
+	status = "okay";
+};
+
+&m4_timers8{
+	pinctrl-names = "rproc_default", "rproc_sleep";
+	pinctrl-0 = <&tim8_pins &tim8_pwm_pins>;
+	pinctrl-1 = <&tim8_sleep_pins &tim8_pwm_sleep_pins>;
+	status = "okay";
+};
+
+&m4_timers3{
+	pinctrl-names = "rproc_default", "rproc_sleep";
+	pinctrl-0 = <&tim3_pins>;
+	pinctrl-1 = <&tim3_sleep_pins>;
+	status = "okay";
+};
+
+
+&m4_usart3 {
+	pinctrl-names = "rproc_default", "rproc_sleep";
+	pinctrl-0 = <&usart3_pins_b>;
+	pinctrl-1 = <&usart3_sleep_pins_b>;
+	pinctrl-2 = <&usart3_idle_pins_b>;
+	status = "okay";
+};
+
+
+&pinctrl {
+	adc_pins: adc-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 12, ANALOG)>; /* ADC1_INP6 */
+		};
+	};
+
+	tim8_pins: tim8-0 {
+		pins {
+			pinmux = <STM32_PINMUX('C', 7, AF3)>, /* TIM8_CH2 */
+				 <STM32_PINMUX('I', 5, AF3)>, /* TIM8_CH1 */
+				 <STM32_PINMUX('I', 7, AF3)>; /* TIM8_CH3 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim8_pwm_pins: tim8_pwm-0 {
+		pins {
+			pinmux = <STM32_PINMUX('G', 3, AF3)>; /* TIM8_BKIN2 */
+			bias-disable;
+			drive-open-drain;
+			slew-rate = <0>;
+		};
+	};
+
+	tim3_pins: tim3-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 6, AF2)>; /* TIM3_CH1 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	adc_sleep_pins: adc_sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('F', 12, ANALOG)>; /* ADC1_INP6 */
+		};
+	};
+
+	tim8_sleep_pins: tim8_sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('C', 7, ANALOG)>, /* TIM8_CH2 */
+				 <STM32_PINMUX('I', 5, ANALOG)>, /* TIM8_CH1 */
+				 <STM32_PINMUX('I', 7, ANALOG)>; /* TIM8_CH3 */
+		};
+	};
+
+	tim8_pwm_sleep_pins: tim8_pwm_sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('G', 3, ANALOG)>; /* TIM8_BKIN2 */
+		};
+	};
+
+
+	tim3_sleep_pins: tim3_sleep-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 6, ANALOG)>; /* TIM3_CH1 */
+		};
+	};
+
+	leds_red_pins: leds_red_test-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 13, GPIO)>;
+			bias-pull-up;
+			drive-push-pull;
+			output-low;
+			slew-rate = <0>;
+		};
+	};
+
+	leds_red_sleep_pins: leds_red_sleep_test-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 13, ANALOG)>;
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control.dts
new file mode 100644
index 000000000000..fd05a3aef407
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-motor-control.dts
@@ -0,0 +1,211 @@
+/* SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause) */
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for ST motor control connector - Cortex A7 example
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&vrefbuf {
+	status = "okay";
+};
+
+&adc {
+	pinctrl-names = "default";
+	pinctrl-0 = <&adc12_pins_mx>;
+	pinctrl-1 = <&adc12_sleep_pins_mx>;
+
+	vdd-supply = <&vdd>;
+	vdda-supply = <&vdd>;
+	vref-supply = <&vrefbuf>;
+	status = "okay";
+
+	adc1: adc@0 {
+		st,min-sample-time-nsecs = <5000>;
+		/* in6, in13, in15 */
+		st,adc-channels = <6 13 15>;
+		status = "okay";
+	};
+
+	adc2: adc@100 {
+		/* ANA0, ANA1, in2 */
+		st,adc-channels = <0 1 2>;
+		/* temperature sensor min sample time */
+		st,min-sample-time-nsecs = <10000>;
+		status = "okay";
+	};
+};
+
+
+&timers1{
+	status = "okay";
+
+	/* USER CODE BEGIN timers1 */
+	/* USER CODE END timers1 */
+
+	pwm1: pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim1_pwm_pins_mx>;
+		pinctrl-1 = <&tim1_pwm_sleep_pins_mx>;
+		status = "okay";
+
+		/* USER CODE BEGIN timers1_pwm */
+		/* USER CODE END timers1_pwm */
+	};
+};
+
+&timers3{
+	status = "okay";
+
+	/* USER CODE BEGIN timers3 */
+	/* USER CODE END timers3 */
+
+	pwm3: pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim3_pwm_pins_mx>;
+		pinctrl-1 = <&tim3_pwm_sleep_pins_mx>;
+		status = "okay";
+
+		/* USER CODE BEGIN timers3_pwm */
+		/* USER CODE END timers3_pwm */
+	};
+};
+
+&timers5{
+	status = "okay";
+
+	/* USER CODE BEGIN timers5 */
+	/* USER CODE END timers5 */
+
+	pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim5_pwm_pins_mx>;
+		pinctrl-1 = <&tim5_pwm_sleep_pins_mx>;
+		status = "okay";
+
+		/* USER CODE BEGIN timers5_pwm */
+		/* USER CODE END timers5_pwm */
+	};
+};
+
+&timers8{
+	status = "okay";
+
+	/* USER CODE BEGIN timers8 */
+	/* USER CODE END timers8 */
+
+	pwm8: pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim8_pwm_pins_mx>;
+		pinctrl-1 = <&tim8_pwm_sleep_pins_mx>;
+		status = "okay";
+
+		/* USER CODE BEGIN timers8_pwm */
+		/* USER CODE END timers8_pwm */
+	};
+};
+
+
+&pinctrl {
+	adc12_pins_mx: adc12_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 3, ANALOG)>, /* ADC1 in15 */
+				 <STM32_PINMUX('C', 3, ANALOG)>, /* ADC1 in13 */
+				 <STM32_PINMUX('F', 12, ANALOG)>, /* ADC1 in6 */
+				 <STM32_PINMUX('F', 13, ANALOG)>; /* ADC2 in2 */
+		};
+	};
+
+	adc12_sleep_pins_mx: adc12_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 3, ANALOG)>, /* ADC1 in15 */
+				 <STM32_PINMUX('C', 3, ANALOG)>, /* ADC1 in13 */
+				 <STM32_PINMUX('F', 12, ANALOG)>, /* ADC1 in6 */
+				 <STM32_PINMUX('F', 13, ANALOG)>; /* ADC2 in2 */
+		};
+	};
+
+	tim1_pwm_pins_mx: tim1_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 11, AF1)>, /* TIM1_CH2 */
+				 <STM32_PINMUX('E', 14, AF1)>; /* TIM1_CH4 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim1_pwm_sleep_pins_mx: tim1_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 11, ANALOG)>, /* TIM1_CH2 */
+				 <STM32_PINMUX('E', 14, ANALOG)>; /* TIM1_CH4 */
+		};
+	};
+
+	tim3_pwm_pins_mx: tim3_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 6, AF2)>; /* TIM3_CH1 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim3_pwm_sleep_pins_mx: tim3_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 6, ANALOG)>; /* TIM3_CH1 */
+		};
+	};
+
+	tim5_pwm_pins_mx: tim5_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('H', 10, AF2)>, /* TIM5_CH1 */
+				 <STM32_PINMUX('H', 12, AF2)>, /* TIM5_CH3 */
+				 <STM32_PINMUX('I', 0, AF2)>; /* TIM5_CH4 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim5_pwm_sleep_pins_mx: tim5_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('H', 10, ANALOG)>, /* TIM5_CH1 */
+				 <STM32_PINMUX('H', 12, ANALOG)>, /* TIM5_CH3 */
+				 <STM32_PINMUX('I', 0, ANALOG)>; /* TIM5_CH4 */
+		};
+	};
+
+	tim8_pwm_pins_mx: tim8_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 5, AF3)>, /* TIM8_CH1N */
+				 <STM32_PINMUX('B', 0, AF3)>, /* TIM8_CH2N */
+				 <STM32_PINMUX('C', 7, AF3)>, /* TIM8_CH2 */
+				 <STM32_PINMUX('H', 15, AF3)>, /* TIM8_CH3N */
+				 <STM32_PINMUX('I', 5, AF3)>, /* TIM8_CH1 */
+				 <STM32_PINMUX('I', 7, AF3)>; /* TIM8_CH3 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim8_pwm_sleep_pins_mx: tim8_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('A', 5, ANALOG)>, /* TIM8_CH1N */
+				 <STM32_PINMUX('B', 0, ANALOG)>, /* TIM8_CH2N */
+				 <STM32_PINMUX('C', 7, ANALOG)>, /* TIM8_CH2 */
+				 <STM32_PINMUX('H', 15, ANALOG)>, /* TIM8_CH3N */
+				 <STM32_PINMUX('I', 5, ANALOG)>, /* TIM8_CH1 */
+				 <STM32_PINMUX('I', 7, ANALOG)>; /* TIM8_CH3 */
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-10bits.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-10bits.dts
new file mode 100644
index 000000000000..83316e6a355c
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-10bits.dts
@@ -0,0 +1,60 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC Messtechnik GmbH 2022 - All Rights Reserved
+ * Author: Christophe Parant <c.parant@phytec.fr>.
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+
+&clk_ext_camera {
+	status = "okay";
+};
+
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	vm016: camera@10 {
+		#address-cells = <0x1>;
+		#size-cells = <0x0>;
+
+		compatible = "onsemi,ar0144";
+		reg = <0x10>;
+		clock-names = "ext";
+		clocks = <&clk_ext_camera>;
+
+		port@0 {
+			reg = <0>;
+
+			vm016_ep0: endpoint {
+				remote-endpoint = <&dcmi_ep0>;
+				bus-type = <5>; /* Parallel */
+				bus-width = <10>;
+				data-shift = <2>;
+				link-frequencies = /bits/ 64 <42000000>;
+			};
+		};
+	};
+};
+
+&dcmi {
+	status = "okay";
+
+	port {
+		dcmi_ep0: endpoint {
+			remote-endpoint = <&vm016_ep0>;
+			bus-width = <10>;
+			hsync-active = <0>;
+			vsync-active = <0>;
+			pclk-max-frequency = <77000000>;
+			pclk-sample = <1>;
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-8bits.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-8bits.dts
new file mode 100644
index 000000000000..b57d33369c6b
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939-phycam-vm016-8bits.dts
@@ -0,0 +1,60 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC Messtechnik GmbH 2022 - All Rights Reserved
+ * Author: Christophe Parant <c.parant@phytec.fr>.
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+
+&clk_ext_camera {
+	status = "okay";
+};
+
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	vm016: camera@10 {
+		#address-cells = <0x1>;
+		#size-cells = <0x0>;
+
+		compatible = "onsemi,ar0144";
+		reg = <0x10>;
+		clock-names = "ext";
+		clocks = <&clk_ext_camera>;
+
+		port@0 {
+			reg = <0>;
+
+			vm016_ep0: endpoint {
+				remote-endpoint = <&dcmi_ep0>;
+				bus-type = <5>; /* Parallel */
+				bus-width = <8>;
+				data-shift = <2>;
+				link-frequencies = /bits/ 64 <74250000>;
+			};
+		};
+	};
+};
+
+&dcmi {
+	status = "okay";
+
+	port {
+		dcmi_ep0: endpoint {
+			remote-endpoint = <&vm016_ep0>;
+			bus-width = <8>;
+			hsync-active = <0>;
+			vsync-active = <0>;
+			pclk-max-frequency = <77000000>;
+			pclk-sample = <1>;
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939l-phycam-vm016-8bits.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939l-phycam-vm016-8bits.dts
new file mode 100644
index 000000000000..27042bdb6522
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pcm939l-phycam-vm016-8bits.dts
@@ -0,0 +1,60 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC Messtechnik GmbH 2022 - All Rights Reserved
+ * Author: Christophe Parant <c.parant@phytec.fr>.
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+
+&clk_ext_camera {
+	status = "okay";
+};
+
+&i2c1 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	vm016: camera@10 {
+		#address-cells = <0x1>;
+		#size-cells = <0x0>;
+
+		compatible = "onsemi,ar0144";
+		reg = <0x10>;
+		clock-names = "ext";
+		clocks = <&clk_ext_camera>;
+
+		port@0 {
+			reg = <0>;
+
+			vm016_ep0: endpoint {
+				remote-endpoint = <&dcmi_ep0>;
+				bus-type = <5>; /* Parallel */
+				bus-width = <8>;
+				data-shift = <4>;
+				link-frequencies = /bits/ 64 <74250000>;
+			};
+		};
+	};
+};
+
+&dcmi {
+	status = "okay";
+
+	port {
+		dcmi_ep0: endpoint {
+			remote-endpoint = <&vm016_ep0>;
+			bus-width = <8>;
+			hsync-active = <0>;
+			vsync-active = <0>;
+			pclk-max-frequency = <77000000>;
+			pclk-sample = <1>;
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av01-hdmi.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av01-hdmi.dts
new file mode 100644
index 000000000000..cea7e6f13f56
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av01-hdmi.dts
@@ -0,0 +1,74 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for PEB-AV-01 expansion (HDMI interface)
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			reg_hdmi_en: hdmi_en {
+				compatible = "regulator-fixed";
+				regulator-name = "hdmi_en";
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <1800000>;
+				gpio = <&gpiod 9 GPIO_ACTIVE_HIGH>;
+				startup-delay-us = <100>;
+				enable-active-high;
+				regulator-always-on;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			tda19988@70 {
+				compatible = "nxp,tda998x";
+				pinctrl-names = "default", "sleep";
+				pinctrl-0 = <&ltdc_pins_a>;
+				pinctrl-1 = <&ltdc_pins_sleep_a>;
+				reg = <0x70>;
+				status = "okay";
+
+				ports {
+					port@0 {
+						hdmi_in: endpoint@0 {
+							remote-endpoint = <&ltdc_ep0_out>;
+						};
+					};
+				};
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&ltdc>;
+		__overlay__ {
+			status = "okay";
+
+			port {
+				#address-cells = <1>;
+				#size-cells = <0>;
+
+				ltdc_ep0_out: endpoint@0 {
+					reg = <0>;
+					remote-endpoint = <&hdmi_in>;
+				};
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av02-lcd.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av02-lcd.dts
new file mode 100644
index 000000000000..4f1ac570e19b
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-av02-lcd.dts
@@ -0,0 +1,113 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for PEB-AV-02 expansion (Capacitive 7" EDT Display)
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			panel_rgb: panel {
+				compatible = "edt,etm0700g0edh6";
+				status = "okay";
+				backlight = <&panel_backlight>;
+				enable-gpios = <&gpioa 4 GPIO_ACTIVE_HIGH>;
+
+				port {
+					panel_in_rgb: endpoint {
+						remote-endpoint = <&ltdc_ep0_out>;
+					};
+				};
+			};
+
+			panel_backlight: panel-backlight {
+				compatible = "pwm-backlight";
+				status = "okay";
+				pwms = <&pwm_5 3 100000>;
+				power-supply = <&v3v3>;
+				brightness-levels = <0 4 8 16 32 64 128 255>;
+				default-brightness-level = <6>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&timers5>;
+		__overlay__ {
+			status = "okay";
+			/delete-property/dmas;
+			/delete-property/dma-names;
+
+			pwm_5: pwm {
+				#pwm-cells = <2>;
+				pinctrl-0 = <&pwm5_pins_a>;
+				pinctrl-1 = <&pwm5_sleep_pins_a>;
+				pinctrl-names = "default", "sleep";
+				status = "okay";
+			};
+
+			timer@4 {
+				status = "disabled";
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&ltdc>;
+		__overlay__ {
+			status = "okay";
+
+			pinctrl-names = "default", "sleep";
+			pinctrl-0 = <&ltdc_pins_a>;
+			pinctrl-1 = <&ltdc_pins_sleep_a>;
+
+			port {
+				#address-cells = <1>;
+				#size-cells = <0>;
+
+				ltdc_ep0_out: endpoint@0 {
+					reg = <0>;
+					remote-endpoint = <&panel_in_rgb>;
+				};
+			};
+		};
+	};
+
+	fragment@3 {
+		target = <&i2c1>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			edt_ts: touchscreen@38 {
+				compatible = "edt,edt-ft5406", "edt,edt-ft5x06";
+				reg = <0x38>;
+				interrupts = <8 2>;
+				interrupt-parent = <&gpioi>;
+				interrupt-controller;
+				reset-gpios = <&gpiod 9 1>;
+				status = "okay";
+			};
+
+			ili_ts: touchscreen@41 {
+				compatible = "ilitek,ili2130";
+				reg = <0x41>;
+				interrupts = <8 2>;
+				interrupt-parent = <&gpioi>;
+				interrupt-controller;
+				reset-gpios = <&gpiod 9 1>;
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart1.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart1.dts
new file mode 100644
index 000000000000..59f1aabcace3
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart1.dts
@@ -0,0 +1,32 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for PEB-WLBT-05 expansion - Bluetooth function using usart1
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&gpio_keys {
+	enter {
+		status = "disabled"; /* disable PA14 (key enter) as input event */
+	};
+};
+
+
+&usart1 {
+	status = "okay";
+	uart-has-rtscts;
+	bluetooth {
+		shutdown-gpios = <&gpioa 14 (GPIO_ACTIVE_HIGH|GPIO_OPEN_DRAIN)>;
+		compatible = "brcm,bcm43438-bt";
+		max-speed = <3000000>;
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart3.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart3.dts
new file mode 100644
index 000000000000..2793165bdcd0
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-bluetooth-usart3.dts
@@ -0,0 +1,42 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for PEB-WLBT-05 module - Bluetooth function using usart3
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+#include <dt-bindings/gpio/gpio.h>
+
+&gpio_keys {
+	enter {
+		status = "disabled"; /* disable PA14 (key enter) as input event */
+	};
+};
+
+&m_can2 {
+	status = "disabled"; /* disable CAN2 (TX pin used as USART3_CTS for bluetooth) */
+};
+
+&usart3 {
+	status = "okay";
+	uart-has-rtscts;
+
+	/* redefine usart3 pinctrl with additional rts/cts pins */
+	pinctrl-names = "default", "sleep", "idle";
+	pinctrl-0 = <&usart3_pins_a &usart3_pins_b>;
+	pinctrl-1 = <&usart3_sleep_pins_a &usart3_sleep_pins_b>;
+	pinctrl-2 = <&usart3_idle_pins_a &usart3_idle_pins_b>;
+
+	bluetooth {
+		shutdown-gpios = <&gpioa 14 (GPIO_ACTIVE_HIGH|GPIO_OPEN_DRAIN)>;
+		compatible = "brcm,bcm43438-bt";
+		max-speed = <3000000>;
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-wlan.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-wlan.dts
new file mode 100644
index 000000000000..7de663961d56
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-peb-wlbt-05-wlan.dts
@@ -0,0 +1,60 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for PEB-WLBT-05 expansion - WLAN function
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			reg_wlan_en: wlan_en {
+				compatible = "regulator-fixed";
+				regulator-name = "wlan_en";
+				regulator-min-microvolt = <3300000>;
+				regulator-max-microvolt = <3300000>;
+				gpio = <&gpioa 13 (GPIO_ACTIVE_HIGH|GPIO_OPEN_DRAIN)>;
+				enable-active-high;
+				regulator-always-on;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&gpio_keys>;
+		__overlay__ {
+			home {
+				status = "disabled"; /* disable PA13 (key home) as input event */
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&sdmmc3>;
+		__overlay__ {
+			status = "okay";
+			arm,primecell-periphid = <0x10153180>;
+			pinctrl-names = "default", "opendrain", "sleep";
+			pinctrl-0 = <&sdmmc3_b4_pins_a>;
+			pinctrl-1 = <&sdmmc3_b4_od_pins_a>;
+			pinctrl-2 = <&sdmmc3_b4_sleep_pins_a>;
+			non-removable;
+			st,neg-edge;
+			bus-width = <4>;
+			max-frequency = <10000000>;
+			vmmc-supply = <&v3v3>;
+
+			brcmf: bcrmf@1 {
+				compatible = "brcm,bcm4329-fmac";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-extension.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-extension.dts
new file mode 100644
index 000000000000..7305ea41b7fa
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-extension.dts
@@ -0,0 +1,38 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Device tree overlay for Raspberry PI HAT pinout configuration example
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&spi1 {
+	status = "okay";
+};
+
+&sdmmc3 {
+	pinctrl-names = "default", "opendrain", "sleep";
+	pinctrl-0 = <&sdmmc3_b4_pins_a>;
+	pinctrl-1 = <&sdmmc3_b4_od_pins_a>;
+	pinctrl-2 = <&sdmmc3_b4_sleep_pins_a>;
+	st,neg-edge;
+	bus-width = <4>;
+	max-frequency = <10000000>;
+	vmmc-supply = <&v3v3>;
+	status = "disabled";
+};
+
+&i2c1 {
+	status = "okay";
+};
+
+&usart1 {
+	status = "okay";
+};
+
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-redbear.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-redbear.dts
new file mode 100644
index 000000000000..a3cee7993e79
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-pi-hat-redbear.dts
@@ -0,0 +1,87 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for RedBear IoT pHAT Wifi Bluetooth module
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			gpio_led_wl: leds {
+				compatible = "gpio-leds";
+				status = "okay";
+
+				wl_reg {
+					gpios = <&gpioe 4 0>;
+					linux,default-trigger = "default-on";
+				};
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&spi1>;
+		__overlay__ {
+			status = "okay";
+			cs-gpios = <&gpioz 3 0>;
+			spi@0 {
+				compatible = "linux,spidev";
+				spi-max-frequency = <10000000>;
+				reg = <0>;
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&sdmmc3>;
+		__overlay__ {
+			status = "okay";
+			arm,primecell-periphid = <0x10153180>;
+			pinctrl-names = "default", "opendrain", "sleep";
+			pinctrl-0 = <&sdmmc3_b4_pins_a>;
+			pinctrl-1 = <&sdmmc3_b4_od_pins_a>;
+			pinctrl-2 = <&sdmmc3_b4_sleep_pins_a>;
+			non-removable;
+			st,neg-edge;
+			bus-width = <4>;
+			max-frequency = <10000000>;
+			vmmc-supply = <&v3v3>;
+
+			brcmf: bcrmf@1 {
+				reg = <1>;
+				compatible = "brcm,bcm4329-fmac";
+			};
+		};
+	};
+
+	fragment@3 {
+		target = <&i2c1>;
+		__overlay__ {
+			status = "okay";
+		};
+	};
+
+	fragment@4 {
+		target = <&usart1>;
+		__overlay__ {
+			status = "okay";
+			uart-has-rtscts;
+
+			bluetooth {
+				shutdown-gpios = <&gpiog 2 GPIO_ACTIVE_HIGH>;
+				compatible = "brcm,bcm43438-bt";
+				max-speed = <3000000>;
+			};
+		};
+	};
+
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-rs485.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-rs485.dts
new file mode 100644
index 000000000000..a64f21bf53eb
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-rs485.dts
@@ -0,0 +1,21 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for RS485 configuration on phyBOARD-Sargas
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+
+&usart1 {
+	linux,rs485-enabled-at-boot-time;
+	status = "okay";
+};
diff --git a/arch/arm/boot/dts/overlays/phyboard-stm32mp1-uno-r3-extension.dts b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-uno-r3-extension.dts
new file mode 100644
index 000000000000..e70fd668cff4
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/phyboard-stm32mp1-uno-r3-extension.dts
@@ -0,0 +1,73 @@
+// SPDX-License-Identifier: (GPL-2.0+ OR BSD-3-Clause)
+/*
+ * Copyright (C) PHYTEC GmbH 2021 - All Rights Reserved
+ * Author: Christophe PARANT <c.parant@phytec.fr>.
+ * Devicetree overlay for Arduino Uno R3 connector
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/pinctrl/stm32-pinfunc.h>
+
+/ {
+	compatible = "phytec,stm32mp1-pcm939";
+};
+
+&timers4{
+	status = "okay";
+
+	pwm4: pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim4_pwm_pins_mx>;
+		pinctrl-1 = <&tim4_pwm_sleep_pins_mx>;
+		status = "okay";
+	};
+};
+
+&timers15{
+	status = "okay";
+
+	pwm15: pwm{
+		pinctrl-names = "default", "sleep";
+		pinctrl-0 = <&tim15_pwm_pins_mx>;
+		pinctrl-1 = <&tim15_pwm_sleep_pins_mx>;
+		status = "okay";
+	};
+};
+
+/* Other Timers and ADCs for the Arduino Shield connector can be settled using "phyboard-stm32mp1-motor-control.dts" overlay */
+
+
+&pinctrl {
+
+	tim4_pwm_pins_mx: tim4_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('B', 7, AF2)>; /* TIM4_CH2 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim4_pwm_sleep_pins_mx: tim4_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('B', 7, ANALOG)>; /* TIM4_CH2 */
+		};
+	};
+
+	tim15_pwm_pins_mx: tim15_pwm_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 5, AF4)>; /* TIM15_CH1 */
+			bias-disable;
+			drive-push-pull;
+			slew-rate = <0>;
+		};
+	};
+
+	tim15_pwm_sleep_pins_mx: tim15_pwm_sleep_mx-0 {
+		pins {
+			pinmux = <STM32_PINMUX('E', 5, ANALOG)>; /* TIM15_CH1 */
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-01-hdmi.dts b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-01-hdmi.dts
new file mode 100644
index 000000000000..28b2ca599c79
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-01-hdmi.dts
@@ -0,0 +1,73 @@
+// SPDX-License-Identifier: GPL-2.0+ 
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe PARANT <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			reg_hdmi_en: hdmi_en {
+				compatible = "regulator-fixed";
+				regulator-name = "hdmi_en";
+				regulator-min-microvolt = <1800000>;
+				regulator-max-microvolt = <1800000>;
+				gpio = <&gpioi 0 GPIO_ACTIVE_HIGH>;
+				startup-delay-us = <100>;
+				enable-active-high;
+				regulator-always-on;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&i2c5>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			tda19988@70 {
+				compatible = "nxp,tda998x";
+				pinctrl-names = "default", "sleep";
+				pinctrl-0 = <&ltdc_pins_mx>;
+				pinctrl-1 = <&ltdc_sleep_pins_mx>;
+				reg = <0x70>;
+				status = "okay";
+
+				ports {
+					port@0 {
+						hdmi_in: endpoint@0 {
+							remote-endpoint = <&ltdc_ep0_out>;
+						};
+					};
+				};
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&ltdc>;
+		__overlay__ {
+			status = "okay";
+
+			port {
+				#address-cells = <1>;
+				#size-cells = <0>;
+
+				ltdc_ep0_out: endpoint@0 {
+					reg = <0>;
+					remote-endpoint = <&hdmi_in>;
+				};
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd-resistive.dts b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd-resistive.dts
new file mode 100644
index 000000000000..b1c2ce12fca9
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd-resistive.dts
@@ -0,0 +1,99 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe PARANT <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/interrupt-controller/arm-gic.h>
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			panel_rgb: panel {
+				compatible = "edt,etm0700g0edh6";
+				status = "okay";
+				backlight = <&panel_backlight>;
+				enable-gpios = <&gpiob 1 GPIO_ACTIVE_HIGH>;
+
+				port {
+					panel_in_rgb: endpoint {
+						remote-endpoint = <&ltdc_ep0_out>;
+					};
+				};
+			};
+
+			panel_backlight: panel-backlight {
+				compatible = "pwm-backlight";
+				status = "okay";
+				pwms = <&pwm_8 2 100000 0>;
+				power-supply = <&scmi_vdd>;
+				brightness-levels = <0 4 8 16 32 64 128 255>;
+				default-brightness-level = <6>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&timers8>;
+		__overlay__ {
+			status = "okay";
+			/delete-property/dmas;
+			/delete-property/dma-names;
+
+			pwm_8: pwm {
+				pinctrl-0 = <&tim8_pwm_pins_mx>;
+				pinctrl-1 = <&tim8_pwm_sleep_pins_mx>;
+				pinctrl-names = "default", "sleep";
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&ltdc>;
+		__overlay__ {
+			status = "okay";
+
+			pinctrl-names = "default", "sleep";
+			pinctrl-0 = <&ltdc_pins_mx>;
+			pinctrl-1 = <&ltdc_sleep_pins_mx>;
+
+			port {
+				#address-cells = <1>;
+				#size-cells = <0>;
+
+				ltdc_ep0_out: endpoint@0 {
+					reg = <0>;
+					remote-endpoint = <&panel_in_rgb>;
+				};
+			};
+		};
+	};
+
+	fragment@3 {
+		target = <&i2c5>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			tsc2004: touchscreen@49 {
+				compatible = "ti,tsc2004";
+				reg = <0x49>;
+				interrupts-extended = <&gpioa 13 IRQ_TYPE_LEVEL_LOW>;
+
+				touchscreen-inverted-x;
+				touchscreen-inverted-y;
+
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd.dts b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd.dts
new file mode 100644
index 000000000000..5665cf38998d
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-peb-av-02-lcd.dts
@@ -0,0 +1,107 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe PARANT <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+
+	fragment@0 {
+		target-path = "/";
+		__overlay__ {
+			panel_rgb: panel {
+				compatible = "edt,etm0700g0edh6";
+				status = "okay";
+				backlight = <&panel_backlight>;
+				enable-gpios = <&gpiob 1 GPIO_ACTIVE_HIGH>;
+
+				port {
+					panel_in_rgb: endpoint {
+						remote-endpoint = <&ltdc_ep0_out>;
+					};
+				};
+			};
+
+			panel_backlight: panel-backlight {
+				compatible = "pwm-backlight";
+				status = "okay";
+				pwms = <&pwm_8 2 100000 0>;
+				power-supply = <&scmi_vdd>;
+				brightness-levels = <0 4 8 16 32 64 128 255>;
+				default-brightness-level = <6>;
+			};
+		};
+	};
+
+	fragment@1 {
+		target = <&timers8>;
+		__overlay__ {
+			status = "okay";
+			/delete-property/dmas;
+			/delete-property/dma-names;
+
+			pwm_8: pwm {
+				pinctrl-0 = <&tim8_pwm_pins_mx>;
+				pinctrl-1 = <&tim8_pwm_sleep_pins_mx>;
+				pinctrl-names = "default", "sleep";
+				status = "okay";
+			};
+		};
+	};
+
+	fragment@2 {
+		target = <&ltdc>;
+		__overlay__ {
+			status = "okay";
+
+			pinctrl-names = "default", "sleep";
+			pinctrl-0 = <&ltdc_pins_mx>;
+			pinctrl-1 = <&ltdc_sleep_pins_mx>;
+
+			port {
+				#address-cells = <1>;
+				#size-cells = <0>;
+
+				ltdc_ep0_out: endpoint@0 {
+					reg = <0>;
+					remote-endpoint = <&panel_in_rgb>;
+				};
+			};
+		};
+	};
+
+	fragment@3 {
+		target = <&i2c5>;
+		__overlay__ {
+			#address-cells = <1>;
+			#size-cells = <0>;
+			status = "okay";
+
+			edt_ts: touchscreen@38 {
+				compatible = "edt,edt-ft5406", "edt,edt-ft5x06";
+				reg = <0x38>;
+				interrupts = <5 2>;
+				interrupt-parent = <&gpiof>;
+				interrupt-controller;
+				reset-gpios = <&gpioi 0 1>;
+				status = "okay";
+			};
+
+			ili_ts: touchscreen@41 {
+				compatible = "ilitek,ili2130";
+				reg = <0x41>;
+				interrupts = <5 2>;
+				interrupt-parent = <&gpiof>;
+				interrupt-controller;
+				reset-gpios = <&gpioi 0 1>;
+				status = "okay";
+			};
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-phycam-vm016.dts b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-phycam-vm016.dts
new file mode 100644
index 000000000000..c6b1d633105c
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp135x-phyboard-segin-phycam-vm016.dts
@@ -0,0 +1,55 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe Parant <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+};
+
+&i2c5 {
+	#address-cells = <1>;
+	#size-cells = <0>;
+	status = "okay";
+
+	vm016: camera@10 {
+		#address-cells = <0x1>;
+		#size-cells = <0x0>;
+
+		compatible = "onsemi,ar0144";
+		reg = <0x10>;
+		clock-names = "ext";
+		clocks = <&clk_mco1>;
+
+		port@0 {
+			reg = <0>;
+
+			vm016_ep0: endpoint {
+				remote-endpoint = <&dcmi_ep0>;
+				bus-type = <5>; /* Parallel */
+				bus-width = <8>;
+				data-shift = <4>;
+				link-frequencies = /bits/ 64 <74250000>;
+			};
+		};
+	};
+};
+
+&dcmipp {
+	status = "okay";
+
+	port {
+		dcmi_ep0: endpoint {
+			remote-endpoint = <&vm016_ep0>;
+			bus-width = <8>;
+			hsync-active = <0>;
+			vsync-active = <0>;
+			pclk-max-frequency = <77000000>;
+			pclk-sample = <1>;
+		};
+	};
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-jtag.dts b/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-jtag.dts
new file mode 100644
index 000000000000..1a948ed3e24e
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-jtag.dts
@@ -0,0 +1,16 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe PARANT <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+};
+
+&sai1{
+	status = "disabled";
+};
diff --git a/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-leds-buttons.dts b/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-leds-buttons.dts
new file mode 100644
index 000000000000..de7024df5617
--- /dev/null
+++ b/arch/arm/boot/dts/overlays/stm32mp13xx-phyboard-segin-peb-eval-01-leds-buttons.dts
@@ -0,0 +1,61 @@
+// SPDX-License-Identifier: GPL-2.0+
+/*
+ * Copyright (C) 2023 PHYTEC Messtechnik GmbH
+ * Author: Christophe PARANT <c.parant@phytec.fr>
+ */
+
+/dts-v1/;
+/plugin/;
+
+#include <dt-bindings/gpio/gpio.h>
+#include <dt-bindings/input/linux-event-codes.h>
+
+/ {
+	compatible = "phytec,stm32mp13-pbacd-10";
+	fragment@1 {
+		target-path= "/";
+
+		__overlay__ {
+
+			gpio-keys {
+				compatible = "gpio-key";
+
+				button0 {
+					label = "Home";
+					linux,code = <KEY_HOME>;
+					gpios = <&gpiog 15 GPIO_ACTIVE_LOW>;
+					wakeup-source;
+				};
+
+				button1 {
+					label = "Enter";
+					linux,code = <KEY_ENTER>;
+					gpios = <&gpioa 6 GPIO_ACTIVE_LOW>;
+					wakeup-source;
+				};
+
+				button2 {
+					label = "Menu";
+					linux,code = <KEY_MENU>;
+					gpios = <&gpioh 2 GPIO_ACTIVE_LOW>;
+					wakeup-source;
+				};
+			};
+
+			user-leds {
+				compatible = "gpio-leds";
+
+				user-led1 {
+					gpios = <&gpioe 8 GPIO_ACTIVE_HIGH>;
+					linux,default-trigger = "heartbeat";
+				};
+
+				user-led2 {
+					gpios = <&gpioe 10 GPIO_ACTIVE_HIGH>;
+					linux,default-trigger = "gpio";
+					default-state = "on";
+				};
+			};
+		};
+	};
+};
-- 
2.25.1

